import{d as t,b as e,c as n,e as o,_ as a,a as i}from"./vendor-@babel-IoAzJ7sT.js";import{c as l}from"./vendor-classnames-C6ZHPJN9.js";import{d as r,p as u,f as c,o as s}from"./vendor-rc-util-C7GvDjgY.js";import{r as d}from"./vendor-react-BVfqOVDk.js";import{C as v}from"./vendor-rc-motion-BgWqvPg4.js";var m=function(t,e){if(!t)return null;var n={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return e?{left:0,right:0,width:0,top:n.top,bottom:n.bottom,height:n.height}:{left:n.left,right:n.right,width:n.width,top:0,bottom:0,height:0}},f=function(t){return void 0!==t?"".concat(t,"px"):void 0};function h(n){var o=n.prefixCls,a=n.containerRef,i=n.value,c=n.getValueIndex,s=n.motionName,h=n.onMotionStart,b=n.onMotionEnd,p=n.direction,g=n.vertical,w=void 0!==g&&g,N=d.useRef(null),y=d.useState(i),x=t(y,2),C=x[0],E=x[1],S=function(t){var e,n=c(t),i=null===(e=a.current)||void 0===e?void 0:e.querySelectorAll(".".concat(o,"-item"))[n];return(null==i?void 0:i.offsetParent)&&i},M=d.useState(null),A=t(M,2),j=A[0],k=A[1],D=d.useState(null),K=t(D,2),R=K[0],V=K[1];r((function(){if(C!==i){var t=S(C),e=S(i),n=m(t,w),o=m(e,w);E(i),k(n),V(o),t&&e?h():b()}}),[i]);var I=d.useMemo((function(){var t;return f(w?null!==(t=null==j?void 0:j.top)&&void 0!==t?t:0:"rtl"===p?-(null==j?void 0:j.right):null==j?void 0:j.left)}),[w,p,j]),T=d.useMemo((function(){var t;return f(w?null!==(t=null==R?void 0:R.top)&&void 0!==t?t:0:"rtl"===p?-(null==R?void 0:R.right):null==R?void 0:R.left)}),[w,p,R]);return j&&R?d.createElement(v,{visible:!0,motionName:s,motionAppear:!0,onAppearStart:function(){return w?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},onAppearActive:function(){return w?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},onVisibleChanged:function(){k(null),V(null),b()}},(function(t,n){var a=t.className,i=t.style,r=e(e({},i),{},{"--thumb-start-left":I,"--thumb-start-width":f(null==j?void 0:j.width),"--thumb-active-left":T,"--thumb-active-width":f(null==R?void 0:R.width),"--thumb-start-top":I,"--thumb-start-height":f(null==j?void 0:j.height),"--thumb-active-top":T,"--thumb-active-height":f(null==R?void 0:R.height)}),c={ref:u(N,n),style:r,className:l("".concat(o,"-thumb"),a)};return d.createElement("div",c)})):null}var b=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function p(t){return t.map((function(t){if("object"===i(t)&&null!==t){var n=function(t){return void 0!==t.title?t.title:"object"!==i(t.label)?null===(e=t.label)||void 0===e?void 0:e.toString():void 0;var e}(t);return e(e({},t),{},{title:n})}return{label:null==t?void 0:t.toString(),title:null==t?void 0:t.toString(),value:t}}))}var g=function(t){var e=t.prefixCls,n=t.className,o=t.disabled,i=t.checked,r=t.label,u=t.title,c=t.value,s=t.name,v=t.onChange,m=t.onFocus,f=t.onBlur,h=t.onKeyDown,b=t.onKeyUp,p=t.onMouseDown;return d.createElement("label",{className:l(n,a({},"".concat(e,"-item-disabled"),o)),onMouseDown:p},d.createElement("input",{name:s,className:"".concat(e,"-item-input"),type:"radio",disabled:o,checked:i,onChange:function(t){o||v(t,c)},onFocus:m,onBlur:f,onKeyDown:h,onKeyUp:b}),d.createElement("div",{className:"".concat(e,"-item-label"),title:u,"aria-selected":i},r))},w=d.forwardRef((function(e,i){var r,v,m=e.prefixCls,f=void 0===m?"rc-segmented":m,w=e.direction,N=e.vertical,y=e.options,x=void 0===y?[]:y,C=e.disabled,E=e.defaultValue,S=e.value,M=e.name,A=e.onChange,j=e.className,k=void 0===j?"":j,D=e.motionName,K=void 0===D?"thumb-motion":D,R=n(e,b),V=d.useRef(null),I=d.useMemo((function(){return u(V,i)}),[V,i]),T=d.useMemo((function(){return p(x)}),[x]),U=c(null===(r=T[0])||void 0===r?void 0:r.value,{value:S,defaultValue:E}),B=t(U,2),F=B[0],H=B[1],L=d.useState(!1),W=t(L,2),X=W[0],Y=W[1],q=function(t,e){H(e),null==A||A(e)},P=s(R,["children"]),_=d.useState(!1),z=t(_,2),G=z[0],J=z[1],O=d.useState(!1),Q=t(O,2),Z=Q[0],$=Q[1],tt=function(){$(!0)},et=function(){$(!1)},nt=function(){J(!1)},ot=function(t){"Tab"===t.key&&J(!0)},at=function(t){var e=T.findIndex((function(t){return t.value===F})),n=T.length,o=T[(e+t+n)%n];o&&(H(o.value),null==A||A(o.value))},it=function(t){switch(t.key){case"ArrowLeft":case"ArrowUp":at(-1);break;case"ArrowRight":case"ArrowDown":at(1)}};return d.createElement("div",o({role:"radiogroup","aria-label":"segmented control",tabIndex:C?void 0:0},P,{className:l(f,(v={},a(v,"".concat(f,"-rtl"),"rtl"===w),a(v,"".concat(f,"-disabled"),C),a(v,"".concat(f,"-vertical"),N),v),k),ref:I}),d.createElement("div",{className:"".concat(f,"-group")},d.createElement(h,{vertical:N,prefixCls:f,value:F,containerRef:V,motionName:"".concat(f,"-").concat(K),direction:w,getValueIndex:function(t){return T.findIndex((function(e){return e.value===t}))},onMotionStart:function(){Y(!0)},onMotionEnd:function(){Y(!1)}}),T.map((function(t){var e;return d.createElement(g,o({},t,{name:M,key:t.value,prefixCls:f,className:l(t.className,"".concat(f,"-item"),(e={},a(e,"".concat(f,"-item-selected"),t.value===F&&!X),a(e,"".concat(f,"-item-focused"),Z&&G&&t.value===F),e)),checked:t.value===F,onChange:q,onFocus:tt,onBlur:et,onKeyDown:it,onKeyUp:ot,onMouseDown:nt,disabled:!!C||!!t.disabled}))}))))}));export{w as T};
