!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){"use strict";e=function(){return r};var n,r={},o=Object.prototype,a=o.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",h=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(n){c=function(t,e,n){return t[e]=n}}function l(t,e,r,o){var a=e&&e.prototype instanceof p?e:p,s=Object.create(a.prototype);return c(s,"_invoke",function(t,e,r){var o=1;return function(a,s){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw s;return{value:n,done:!0}}for(r.method=a,r.arg=s;;){var i=r.delegate;if(i){var h=w(i,r);if(h){if(h===y)continue;return h}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=x(t,e,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(t,r,new E(o||[])),!0),s}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=l;var y={};function p(){}function d(){}function f(){}var b={};c(b,i,(function(){return this}));var _=Object.getPrototypeOf,m=_&&_(_(N([])));m&&m!==o&&a.call(m,i)&&(b=m);var v=f.prototype=p.prototype=Object.create(b);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function M(e,n){function r(o,s,i,h){var u=x(e[o],e,s);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==t(l)&&a.call(l,"__await")?n.resolve(l.__await).then((function(t){r("next",t,i,h)}),(function(t){r("throw",t,i,h)})):n.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return r("throw",t,i,h)}))}h(u.arg)}var o;c(this,"_invoke",(function(t,e){function a(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(a,a):a()}),!0)}function w(t,e){var r=e.method,o=t.i[r];if(o===n)return e.delegate=null,"throw"===r&&t.i.return&&(e.method="return",e.arg=n,w(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=x(o,t.i,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,y;var s=a.arg;return s?s.done?(e[t.r]=s.value,e.next=t.n,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function j(t){this.tryEntries.push(t)}function k(t){var e=t[4]||{};e.type="normal",e.arg=n,t[4]=e}function E(t){this.tryEntries=[[-1]],t.forEach(j,this),this.reset(!0)}function N(e){if(null!=e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function t(){for(;++o<e.length;)if(a.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return s.next=s}}throw new TypeError(t(e)+" is not iterable")}return d.prototype=f,c(v,"constructor",f),c(f,"constructor",d),d.displayName=c(f,u,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},r.awrap=function(t){return{__await:t}},g(M.prototype),c(M.prototype,h,(function(){return this})),r.AsyncIterator=M,r.async=function(t,e,n,o,a){void 0===a&&(a=Promise);var s=new M(l(t,e,n,o),a);return r.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},g(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},r.values=N,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n){s.type="throw",s.arg=t,e.next=n}for(var o=e.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a[4],i=this.prev,h=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!h&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=i){if(i<h)return this.method="next",this.arg=n,r(h),!0;if(i<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),k(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={i:N(t),r:e,n:r},"next"===this.method&&(this.arg=n),y}},r}function n(t,e,n,r,o,a,s){try{var i=t[a](s),h=i.value}catch(t){return void n(t)}i.done?e(h):Promise.resolve(h).then(r,o)}function r(t){return function(){var e=this,r=arguments;return new Promise((function(o,a){var s=t.apply(e,r);function i(t){n(s,o,a,i,h,"next",t)}function h(t){n(s,o,a,i,h,"throw",t)}i(void 0)}))}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,s,i=[],h=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=a.call(n)).done)&&(i.push(r.value),i.length!==e);h=!0);}catch(t){u=!0,o=t}finally{try{if(!h&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}System.register(["./vendor-react-legacy-Cc0hGaC1.js","./vendor-react-router-legacy-COwKbiCJ.js","./vendor-@ant-design-legacy--DSuj5lS.js","./utils-legacy-DpxRuplO.js","./vendor-antd-legacy-DvvtT6O8.js","./vendor-classnames-legacy-FF-SgJeE.js","./vendor-use-immer-legacy-D7KDUas9.js"],(function(t,n){"use strict";var o,s,h,u,c,l,x,y,p,d,f,b,_,m,v,g,M,w,j,k,E,N,S,T,L,C,P,O,D,z,R,I,F,A,H,Y,q,G;return{setters:[function(t){o=t.j,s=t.r,h=t.R},function(t){u=t.u,c=t.a,l=t.O,x=t.L},function(t){y=t.R,p=t.a,d=t.b,f=t.c,b=t.d,_=t.e,m=t.f,v=t.P,g=t.g,M=t.h,w=t.S,j=t.W,k=t.i,E=t.j,N=t.k,S=t.L,T=t.l,L=t.m,C=t.n,P=t.o},function(t){O=t.s,D=t.r,z=t.l,R=t.a,I=t.g},function(t){F=t.M,A=t.s,H=t.t,Y=t.T},function(t){q=t.c},function(t){G=t.i}],execute:function(){var n=document.createElement("style");n.textContent="._container_1h4do_1{width:100%;display:flex;flex-direction:column;align-items:center}._header_10156_1{width:100%;text-align:center}._container_13hq5_1{width:100vw;height:100vh;background-color:azure}._flowEditor_j8sok_1{display:flex;height:100vh;width:100vw}._flowCanvas_j8sok_7{flex:1;position:relative;overflow:hidden;background-color:#fafafa}._flowNode_eknzw_1{position:absolute;cursor:move;transition:opacity .2s}._flowNode_eknzw_1 ._nodeCanvas_eknzw_6{width:100%;height:100%}._flowEdge_1bhv1_1{position:absolute}._flowEdge_1bhv1_1 ._canvas-box_1bhv1_4{width:100%;height:100%}._sidebar_1nyhu_1{width:200px;padding:16px;background-color:#f0f2f5;border-right:1px solid #d9d9d9}._sidebar_1nyhu_1 h3{margin-top:0;margin-bottom:16px;color:rgba(0,0,0,.85)}._sidebar_1nyhu_1 ._nodeList_1nyhu_12{display:flex;flex-direction:column;gap:8px}._sidebar_1nyhu_1 ._nodeList_1nyhu_12 ._nodeType_1nyhu_17{padding:8px 12px;background-color:#fff;border:1px solid #d9d9d9;border-radius:4px;transition:all .3s;cursor:grab}._sidebar_1nyhu_1 ._nodeList_1nyhu_12 ._nodeType_1nyhu_17:hover{border-color:#1890ff;color:#1890ff}._box-hover-control_1e459_1{position:absolute}._box-hover-control_1e459_1 ._node-control-point_1e459_4{position:absolute;width:10px;height:10px;background-color:#fff;box-sizing:border-box;border:1px solid #1890ff;border-radius:50%;cursor:crosshair}._box-hover-control_1e459_1 ._node-control-point_1e459_4._rect_1e459_14{border-radius:unset}._box-hover-control_1e459_1 ._node-control-point_1e459_4._ew_1e459_17{cursor:ew-resize}._box-hover-control_1e459_1 ._node-control-point_1e459_4._ns_1e459_20{cursor:ns-resize}._box-hover-control_1e459_1 ._node-control-point_1e459_4._nesw_1e459_23{cursor:nesw-resize}._box-hover-control_1e459_1 ._node-control-point_1e459_4._nwse_1e459_26{cursor:nwse-resize}._box-hover-control_1e459_1 ._node-control-point_1e459_4._top_1e459_29{top:-5px;left:50%;transform:translate(-50%)}._box-hover-control_1e459_1 ._node-control-point_1e459_4._right_1e459_34{top:50%;right:-5px;transform:translateY(-50%)}._box-hover-control_1e459_1 ._node-control-point_1e459_4._bottom_1e459_39{bottom:-5px;left:50%;transform:translate(-50%)}._box-hover-control_1e459_1 ._node-control-point_1e459_4._left_1e459_44{left:-5px;top:50%;transform:translateY(-50%)}._box-hover-control_1e459_1 ._node-control-point_1e459_4._top-left_1e459_49{top:-5px;left:-5px}._box-hover-control_1e459_1 ._node-control-point_1e459_4._top-right_1e459_53{top:-5px;right:-5px}._box-hover-control_1e459_1 ._node-control-point_1e459_4._bottom-left_1e459_57{bottom:-5px;left:-5px}._box-hover-control_1e459_1 ._node-control-point_1e459_4._bottom-right_1e459_61{bottom:-5px;right:-5px}._box-click-control_822kj_1{position:absolute}._box-click-control_822kj_1 ._node-control-point_822kj_4{position:absolute;width:10px;height:10px;background-color:#fff;box-sizing:border-box;border:1px solid #1890ff;border-radius:50%;cursor:crosshair}._box-click-control_822kj_1 ._node-control-point_822kj_4._rect_822kj_14{border-radius:unset}._box-click-control_822kj_1 ._node-control-point_822kj_4._ew_822kj_17{cursor:ew-resize}._box-click-control_822kj_1 ._node-control-point_822kj_4._ns_822kj_20{cursor:ns-resize}._box-click-control_822kj_1 ._node-control-point_822kj_4._nesw_822kj_23{cursor:nesw-resize}._box-click-control_822kj_1 ._node-control-point_822kj_4._nwse_822kj_26{cursor:nwse-resize}._box-click-control_822kj_1 ._node-control-point_822kj_4._top_822kj_29{top:-5px;left:50%;transform:translate(-50%)}._box-click-control_822kj_1 ._node-control-point_822kj_4._right_822kj_34{top:50%;right:-5px;transform:translateY(-50%)}._box-click-control_822kj_1 ._node-control-point_822kj_4._bottom_822kj_39{bottom:-5px;left:50%;transform:translate(-50%)}._box-click-control_822kj_1 ._node-control-point_822kj_4._left_822kj_44{left:-5px;top:50%;transform:translateY(-50%)}._box-click-control_822kj_1 ._node-control-point_822kj_4._top-left_822kj_49{top:-5px;left:-5px}._box-click-control_822kj_1 ._node-control-point_822kj_4._top-right_822kj_53{top:-5px;right:-5px}._box-click-control_822kj_1 ._node-control-point_822kj_4._bottom-left_822kj_57{bottom:-5px;left:-5px}._box-click-control_822kj_1 ._node-control-point_822kj_4._bottom-right_822kj_61{bottom:-5px;right:-5px}\n/*$vite$:1*/",document.head.appendChild(n),t({H:function(){return o.jsx(o.Fragment,{children:o.jsx("div",{className:W.container,children:"欢迎页-home"})})},N:function(){return o.jsxs("div",{className:"not-found",children:[o.jsx("h1",{children:"404 - 页面不存在"}),o.jsx("p",{children:"您访问的地址有误，请检查 URL 或返回首页。"}),o.jsx(x,{to:"/",children:"返回首页"})]})},O:function(){return o.jsx("div",{children:"课程简介"})}});var X={route:{path:"/home",children:[{path:"/home/data-processing",name:"数据加工",icon:o.jsx(f,{}),children:[{path:"/home/data-processing/teaching",name:"教学",icon:o.jsx(p,{})},{path:"/home/data-processing/trial",name:"测试",icon:o.jsx(d,{})}]},{path:"/home/three-coordinate-detection",name:"三坐标检测",icon:o.jsx(b,{}),access:"canAdmin",children:[{path:"/home/three-coordinate-detection/teaching",name:"教学",icon:o.jsx(p,{})},{path:"/home/three-coordinate-detection/trial",name:"测试",icon:o.jsx(d,{})}]},{path:"/home/welding",name:"焊接",icon:o.jsx(_,{}),children:[{path:"/home/welding/teaching",name:"教学",icon:o.jsx(p,{})},{path:"/home/welding/trial",name:"测试",icon:o.jsx(d,{})}]},{path:"https://www.baidu.com",name:"官网外链",icon:o.jsx(m,{})}]},location:{pathname:"/"},appList:[{icon:o.jsx(y,{}),title:"HomeOutlined",desc:"home",url:"https://www.baidu.com"}]},W=(t("h",(function(){var t=u(),e=c(),n=O.localStorage.getItem("token");s.useEffect((function(){n||e("/login")}),[n]);var r=s.useMemo((function(){return t.pathname}),[t]),h=i(s.useState(r),2),x=h[0],p=h[1],d=function(t){D.verifyNetUrl.test(t)||(e(t),p(t))};return n?o.jsx(o.Fragment,{children:o.jsx("div",{id:"test-pro-layout",children:o.jsx(v,a(a(a({title:"集萃华科",logo:o.jsx(y,{}),onMenuHeaderClick:function(){d("/")},token:{header:{heightLayoutHeader:50}},bgLayoutImgList:[{src:"https://img.alicdn.com/imgextra/i2/O1CN01O4etvp1DvpFLKfuWq_!!6000000000279-2-tps-609-606.png",left:85,bottom:100,height:"303px"},{src:"https://img.alicdn.com/imgextra/i2/O1CN01O4etvp1DvpFLKfuWq_!!6000000000279-2-tps-609-606.png",bottom:-68,right:-45,height:"303px"},{src:"https://img.alicdn.com/imgextra/i3/O1CN018NxReL1shX85Yz6Cx_!!6000000005798-2-tps-884-496.png",bottom:0,left:0,width:"331px"}]},X),{},{location:{pathname:x},menu:{type:"group"},menuFooterRender:function(t){if(null==t||!t.collapsed)return o.jsx("div",{style:{textAlign:"center",paddingBlockStart:12},children:o.jsx("div",{children:"© 2025"})})},menuItemRender:function(t,e){return o.jsx("div",{onClick:function(e){e.preventDefault(),t.path&&d(t.path)},children:e})}},{layout:"mix",splitMenus:!0}),{},{children:o.jsx(g,{children:o.jsx(M,{style:{minHeight:800},children:o.jsx(l,{})})})}))})}):o.jsx(o.Fragment,{})})),{container:"_container_1h4do_1"});var B="_header_10156_1",K=[{key:"sub1",label:"第一章 坐标测量机介绍",children:[{key:"g11",label:"测量机结构"},{key:"g12",label:"准正控制器"},{key:"g13",label:"测头系统"},{key:"g14",label:"软件系统"},{key:"g15",label:"测量机工作环境",children:[{key:"g151",label:"精度影响因素"},{key:"g152",label:"使用环境"}]}]},{key:"sub2",label:"第二章 软件",children:[{key:"g21",label:"软件界面简介"},{key:"g22",label:"菜单栏"},{key:"g23",label:"文件"},{key:"g24",label:"设备"},{key:"g25",label:"工具"}]}],U=(t("T",(function(){var t=s.useMemo((function(){var t=[],e=function(n){if(n){var r=z.get(n,"children")||[];r.length&&(r.length&&n.key&&t.push(n.key),r.forEach((function(t){e(t)})))}};return K.forEach((function(t){e(t)})),t}),[K]);return o.jsxs("div",{children:[o.jsx("h1",{className:B,children:"课程目录"}),o.jsx(F,{onClick:function(t){},style:{width:"100%"},defaultSelectedKeys:["1"],defaultOpenKeys:t,mode:"inline",items:K})]})})),t("t",(function(){var t,n,a,i=s.useRef(null);return o.jsx(o.Fragment,{children:o.jsxs(w,{formRef:i,onFinish:(a=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(1e3);case 2:A.success("提交成功");case 3:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)}),formProps:{validateMessages:{required:"此项为必填项"}},children:[o.jsx(w.StepForm,{name:"base",title:"一、单选题",stepProps:{description:"描述"},onFinish:(n=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,R(2e3);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)}),children:o.jsx(j.Group,{name:"radio-vertical",layout:"vertical",label:" Powerblade系列测量机的准正控制器不具备以下哪种功能？",options:[{label:"答案1",value:"A"},{label:"答案2",value:"B"},{label:"答案3",value:"C"},{label:"答案4",value:"D"}]})}),o.jsx(w.StepForm,{name:"checkbox",title:"多选题",stepProps:{description:"描述"},onFinish:(t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),children:o.jsx(k.Group,{name:"checkbox",layout:"vertical",label:"Powerblade系列测量机的核心组成部分包括？",width:"lg",options:[{label:"答案1",value:"A"},{label:"答案2",value:"B"},{label:"答案3",value:"C"},{label:"答案4",value:"D"}]})}),o.jsx(w.StepForm,{name:"time",title:"填空题",stepProps:{description:"描述"},children:o.jsx(E,{name:"name",label:"测头补偿的原理是将测针球心坐标沿________方向补偿测针半径，得到工件实际表面坐标。",width:"md",tooltip:"提示文案",placeholder:"请输入名称",rules:[{required:!0}]})})]})})})),"_container_13hq5_1"),$=(t("L",(function(){var t,n=H.useToken().token,a=i(s.useState("phone"),2),h=a[0],u=a[1],l=c();return o.jsx(N,{hashed:!1,children:o.jsx("div",{className:U,children:o.jsxs(S,{title:"集萃华科",subTitle:"工程教育课程平台",onFinish:function(t){var e=JSON.stringify(t);O.localStorage.setItem("token",e),l(I("/"))},children:[o.jsx(Y,{centered:!0,activeKey:h,items:[{key:"account",label:"账号密码登录"},{key:"phone",label:"手机号登录"}],onChange:function(t){return u(t)}}),"account"===h&&o.jsxs(o.Fragment,{children:[o.jsx(E,{name:"username",fieldProps:{size:"large",prefix:o.jsx(T,{className:"prefixIcon"})},placeholder:"请输入用户名",rules:[{required:!0,message:"请输入用户名!"}]}),o.jsx(E.Password,{name:"password",fieldProps:{size:"large",prefix:o.jsx(L,{className:"prefixIcon"}),strengthText:"Password should contain numbers, letters and special characters, at least 8 characters long.",statusRender:function(t){var e=t&&t.length>12?"ok":t&&t.length>6?"pass":"poor";return"pass"===e?o.jsx("div",{style:{color:n.colorWarning},children:"强度：中"}):"ok"===e?o.jsx("div",{style:{color:n.colorSuccess},children:"强度：强"}):o.jsx("div",{style:{color:n.colorError},children:"强度：弱"})}},placeholder:"请输入密码",rules:[{required:!0,message:"请输入密码！"}]})]}),"phone"===h&&o.jsxs(o.Fragment,{children:[o.jsx(E,{fieldProps:{size:"large",prefix:o.jsx(C,{className:"prefixIcon"})},name:"mobile",placeholder:"请输入手机号",rules:[{required:!0,message:"请输入手机号！"},{pattern:/^1\d{10}$/,message:"手机号格式错误！"}]}),o.jsx(P,{fieldProps:{size:"large",prefix:o.jsx(L,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"请输入验证码",captchaTextRender:function(t,e){return t?"".concat(e," ","获取验证码"):"获取验证码"},name:"captcha",rules:[{required:!0,message:"请输入验证码！"}],onGetCaptcha:(t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A.success("获取验证码成功！验证码为：1234");case 1:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})})]}),o.jsxs("div",{style:{marginBlockEnd:24},children:[o.jsx(k,{noStyle:!0,name:"autoLogin",children:"自动登录"}),o.jsx("a",{style:{float:"right"},children:"忘记密码"})]})]})})})})),"_flowEditor_j8sok_1"),J="_flowCanvas_j8sok_7",Q="_flowNode_eknzw_1",V="_nodeCanvas_eknzw_6",Z=10,tt=function(t){var e=t.moveData,n=t.setCanvasSize,r=t.setPositionTL,o=t.positionTL,a=t.data,s=[];if(e.y<0){if(n({x:2*Z+Math.abs(e.x),y:2*Z+Math.abs(e.y)}),e.x<-10?r({x:o.x+e.x-Z,y:o.y+e.y-Z}):r({x:o.x-Z,y:o.y+e.y-Z}),e.x>Z)if(Math.abs(e.x)>=Math.abs(e.y))s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Z}),s.push({x:Math.abs(e.x)+Z,y:Z});else{var i=Math.round(Math.abs(e.y)/2)+Z;s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:i}),s.push({x:Math.abs(e.x)+Z,y:i}),s.push({x:Math.abs(e.x)+Z,y:Z})}else if(e.x<-10){if(Math.abs(e.x)>=Math.abs(e.y))s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Z,y:Z});else{var h=Math.round(Math.abs(e.y)/2)+Z;s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+Z,y:h}),s.push({x:Z,y:h}),s.push({x:Z,y:Z})}}else s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Z})}else{var u=Math.round(a.width/2)+2*Z;if(e.x>=u||e.x<u&&e.x>0?r({x:o.x-Z,y:o.y-3*Z}):e.x<=-u?r({x:o.x+e.x-Z,y:o.y-3*Z}):r({x:o.x-u-Z,y:o.y-3*Z}),e.x>=u)n({x:2*Z+Math.abs(e.x),y:4*Z+Math.abs(e.y)}),Math.abs(e.x)>=Math.abs(e.y)?(s.push({x:Z,y:3*Z}),s.push({x:Z,y:Z}),s.push({x:Math.abs(e.x)-2*Z,y:Z}),s.push({x:Math.abs(e.x)-2*Z,y:Math.abs(e.y)+3*Z}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+3*Z})):(s.push({x:Z,y:3*Z}),s.push({x:Z,y:Z}),s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+3*Z}));else if(e.x<u&&e.x>0)n({x:u+2*Z,y:4*Z+Math.abs(e.y)}),s.push({x:Z,y:3*Z}),s.push({x:Z,y:Z}),s.push({x:u+Z,y:Z}),s.push({x:u+Z,y:Math.abs(e.y)}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+3*Z});else if(e.x<=-u){n({x:2*Z+Math.abs(e.x),y:4*Z+Math.abs(e.y)}),Math.abs(e.x)>=Math.abs(e.y)?(s.push({x:Math.abs(e.x)+Z,y:3*Z}),s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:4*Z,y:Z}),s.push({x:4*Z,y:Math.abs(e.y)+3*Z}),s.push({x:Z,y:Math.abs(e.y)+3*Z})):(s.push({x:Math.abs(e.x)+Z,y:3*Z}),s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Z,y:Z}),s.push({x:Z,y:Math.abs(e.y)+3*Z}))}else n({x:u+2*Z,y:4*Z+Math.abs(e.y)}),s.push({x:u+Z,y:3*Z}),s.push({x:u+Z,y:Z}),s.push({x:Z,y:Z}),s.push({x:Z,y:Math.abs(e.y)}),s.push({x:u+Z-Math.abs(e.x),y:Math.abs(e.y)}),s.push({x:u+Z-Math.abs(e.x),y:Math.abs(e.y)+3*Z})}return s},et=function(t){var e=t.moveData,n=t.setCanvasSize,r=t.setPositionTL,o=t.positionTL,a=t.data,s=[];if(e.x>0){if(n({x:2*Z+Math.abs(e.x),y:2*Z+Math.abs(e.y)}),e.y<-10?r({x:o.x-Z,y:o.y+e.y-Z}):r({x:o.x-Z,y:o.y-Z}),e.y<-10)if(Math.abs(e.y)>=Math.abs(e.x))s.push({x:Z,y:Z+Math.abs(e.y)}),s.push({x:Z+Math.abs(e.x),y:Z+Math.abs(e.y)}),s.push({x:Z+Math.abs(e.x),y:Z});else{var i=Math.round(Math.abs(e.x)/2)+Z;s.push({x:Z,y:Z+Math.abs(e.y)}),s.push({x:i,y:Z+Math.abs(e.y)}),s.push({x:i,y:Z}),s.push({x:Math.abs(e.x)+Z,y:Z})}else if(e.y>Z){if(Math.abs(e.y)>=Math.abs(e.x))s.push({x:Z,y:Z}),s.push({x:Z+Math.abs(e.x),y:Z}),s.push({x:Z+Math.abs(e.x),y:Z+Math.abs(e.y)});else{var h=Math.round(Math.abs(e.x)/2)+Z;s.push({x:Z,y:Z}),s.push({x:h,y:Z}),s.push({x:h,y:Z+Math.abs(e.y)}),s.push({x:Z+Math.abs(e.x),y:Z+Math.abs(e.y)})}}else s.push({x:Z,y:Z}),s.push({x:Math.abs(e.x)+Z,y:Z})}else{var u=Math.round(a.height/2)+2*Z;if(e.y<=-u?r({x:o.x+e.x-Z,y:o.y+e.y-Z}):e.y>-u&&e.y<=0?r({x:o.x+e.x-Z,y:o.y-u-Z}):(e.y,r({x:o.x+e.x-Z,y:o.y-Z})),e.y<=-u)n({x:4*Z+Math.abs(e.x),y:2*Z+Math.abs(e.y)}),Math.abs(e.y)>=Math.abs(e.x)?(s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+3*Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+3*Z,y:4*Z}),s.push({x:Z,y:4*Z}),s.push({x:Z,y:Z})):(s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+3*Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+3*Z,y:Z}),s.push({x:Z,y:Z}));else if(e.y>-u&&e.y<=0)n({x:4*Z+Math.abs(e.x),y:u+2*Z}),s.push({x:Math.abs(e.x)+Z,y:u+Z}),s.push({x:Math.abs(e.x)+3*Z,y:u+Z}),s.push({x:Math.abs(e.x)+3*Z,y:Z}),s.push({x:4*Z,y:Z}),s.push({x:4*Z,y:u+Z+e.y}),s.push({x:Z,y:u+Z+e.y});else if(e.y>=u){n({x:4*Z+Math.abs(e.x),y:2*Z+Math.abs(e.y)}),Math.abs(e.y)>=Math.abs(e.x)?(s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Math.abs(e.x)+3*Z,y:Z}),s.push({x:Math.abs(e.x)+3*Z,y:Math.abs(e.y)-2*Z}),s.push({x:Z,y:Math.abs(e.y)-2*Z}),s.push({x:Z,y:Math.abs(e.y)+Z})):(s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Math.abs(e.x)+3*Z,y:Z}),s.push({x:Math.abs(e.x)+3*Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Math.abs(e.y)+Z}))}else n({x:4*Z+Math.abs(e.x),y:u+2*Z}),s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Math.abs(e.x)+3*Z,y:Z}),s.push({x:Math.abs(e.x)+3*Z,y:u+Z}),s.push({x:4*Z,y:u+Z}),s.push({x:4*Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Math.abs(e.y)+Z})}return s},nt=function(t){var e=t.moveData,n=t.setCanvasSize,r=t.setPositionTL,o=t.positionTL,a=t.data,s=[];if(e.x<0){if(n({x:2*Z+Math.abs(e.x),y:2*Z+Math.abs(e.y)}),e.y<-10?r({x:o.x+e.x-Z,y:o.y+e.y-Z}):r({x:o.x+e.x-Z,y:o.y-Z}),e.y<-10)if(Math.abs(e.y)>=Math.abs(e.x))s.push({x:Z+Math.abs(e.x),y:Z+Math.abs(e.y)}),s.push({x:Z,y:Z+Math.abs(e.y)}),s.push({x:Z,y:Z});else{var i=Math.round(Math.abs(e.x)/2)+Z;s.push({x:Math.abs(e.x)+Z,y:Z+Math.abs(e.y)}),s.push({x:i,y:Z+Math.abs(e.y)}),s.push({x:i,y:Z}),s.push({x:Z,y:Z})}else if(e.y>Z){if(Math.abs(e.y)>=Math.abs(e.x))s.push({x:Z+Math.abs(e.x),y:Z}),s.push({x:Z,y:Z}),s.push({x:Z,y:Z+Math.abs(e.y)});else{var h=Math.round(Math.abs(e.x)/2)+Z;s.push({x:Z+Math.abs(e.x),y:Z}),s.push({x:h,y:Z}),s.push({x:h,y:Z+Math.abs(e.y)}),s.push({x:Z,y:Z+Math.abs(e.y)})}}else s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Z,y:Z})}else{var u=Math.round(a.height/2)+2*Z;if(e.y<=-u?r({x:o.x-3*Z,y:o.y+e.y-Z}):e.y>-u&&e.y<=0?r({x:o.x-3*Z,y:o.y-u-Z}):(e.y,r({x:o.x-3*Z,y:o.y-Z})),e.y<=-u)n({x:4*Z+Math.abs(e.x),y:2*Z+Math.abs(e.y)}),Math.abs(e.y)>=Math.abs(e.x)?(s.push({x:3*Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:4*Z}),s.push({x:Math.abs(e.x)+3*Z,y:4*Z}),s.push({x:Math.abs(e.x)+3*Z,y:Z})):(s.push({x:3*Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Z}),s.push({x:Math.abs(e.x)+3*Z,y:Z}));else if(e.y>-u&&e.y<=0)n({x:4*Z+Math.abs(e.x),y:u+2*Z}),s.push({x:3*Z,y:u+Z}),s.push({x:Z,y:u+Z}),s.push({x:Z,y:Z}),s.push({x:Math.abs(e.x)-3*Z,y:Z}),s.push({x:Math.abs(e.x)-3*Z,y:u+Z+e.y}),s.push({x:Math.abs(e.x),y:u+Z+e.y});else if(e.y>=u){n({x:4*Z+Math.abs(e.x),y:2*Z+Math.abs(e.y)}),Math.abs(e.y)>=Math.abs(e.x)?(s.push({x:3*Z,y:Z}),s.push({x:Z,y:Z}),s.push({x:Z,y:Math.abs(e.y)-2*Z}),s.push({x:Math.abs(e.x)+3*Z,y:Math.abs(e.y)-2*Z}),s.push({x:Math.abs(e.x)+3*Z,y:Math.abs(e.y)+Z})):(s.push({x:3*Z,y:Z}),s.push({x:Z,y:Z}),s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+3*Z,y:Math.abs(e.y)+Z}))}else n({x:4*Z+Math.abs(e.x),y:u+2*Z}),s.push({x:3*Z,y:Z}),s.push({x:Z,y:Z}),s.push({x:Z,y:u+Z}),s.push({x:Math.abs(e.x),y:u+Z}),s.push({x:Math.abs(e.x),y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+3*Z,y:Math.abs(e.y)+Z})}return s},rt=function(t){var e=t.moveData,n=t.setCanvasSize,r=t.setPositionTL,o=t.positionTL,a=t.data,s=[];if(e.y>0){if(n({x:2*Z+Math.abs(e.x),y:2*Z+Math.abs(e.y)}),e.x<-10?r({x:o.x+e.x-Z,y:o.y-Z}):r({x:o.x-Z,y:o.y-Z}),e.x>Z)if(Math.abs(e.x)>=Math.abs(e.y))s.push({x:Z,y:Z}),s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z});else{var i=Math.round(Math.abs(e.y)/2)+Z;s.push({x:Z,y:Z}),s.push({x:Z,y:i}),s.push({x:Math.abs(e.x)+Z,y:i}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z})}else if(e.x<-10){if(Math.abs(e.x)>=Math.abs(e.y))s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Math.abs(e.y)+Z});else{var h=Math.round(Math.abs(e.y)/2)+Z;s.push({x:Math.abs(e.x)+Z,y:Z}),s.push({x:Math.abs(e.x)+Z,y:h}),s.push({x:Z,y:h}),s.push({x:Z,y:Math.abs(e.y)+Z})}}else s.push({x:Z,y:Z}),s.push({x:Z,y:Math.abs(e.y)+Z})}else{var u=Math.round(a.width/2)+2*Z;if(e.x>=u||e.x<u&&e.x>0?r({x:o.x-Z,y:o.y+e.y-Z}):e.x<=-u?r({x:o.x+e.x-Z,y:o.y+e.y-Z}):r({x:o.x-u-Z,y:o.y+e.y-Z}),e.x>=u)n({x:2*Z+Math.abs(e.x),y:4*Z+Math.abs(e.y)}),Math.abs(e.x)>=Math.abs(e.y)?(s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Math.abs(e.y)+3*Z}),s.push({x:Math.abs(e.x)-2*Z,y:Math.abs(e.y)+3*Z}),s.push({x:Math.abs(e.x)-2*Z,y:Z}),s.push({x:Math.abs(e.x)+Z,y:Z})):(s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Math.abs(e.y)+3*Z}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+3*Z}),s.push({x:Math.abs(e.x)+Z,y:Z}));else if(e.x<u&&e.x>0)n({x:u+2*Z,y:4*Z+Math.abs(e.y)}),s.push({x:Z,y:Math.abs(e.y)+Z}),s.push({x:Z,y:Math.abs(e.y)+3*Z}),s.push({x:u+Z,y:Math.abs(e.y)+3*Z}),s.push({x:u+Z,y:4*Z}),s.push({x:Math.abs(e.x)+Z,y:4*Z}),s.push({x:Math.abs(e.x)+Z,y:Z});else if(e.x<=-u){n({x:2*Z+Math.abs(e.x),y:4*Z+Math.abs(e.y)}),Math.abs(e.x)>=Math.abs(e.y)?(s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+3*Z}),s.push({x:4*Z,y:Math.abs(e.y)+3*Z}),s.push({x:4*Z,y:Z}),s.push({x:Z,y:Z})):(s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+Z}),s.push({x:Math.abs(e.x)+Z,y:Math.abs(e.y)+3*Z}),s.push({x:Z,y:Math.abs(e.y)+3*Z}),s.push({x:Z,y:Z}))}else n({x:u+2*Z,y:4*Z+Math.abs(e.y)}),s.push({x:u+Z,y:Math.abs(e.y)+Z}),s.push({x:u+Z,y:Math.abs(e.y)+3*Z}),s.push({x:Z,y:Math.abs(e.y)+3*Z}),s.push({x:Z,y:4*Z}),s.push({x:u+Z+e.x,y:4*Z}),s.push({x:u+Z+e.x,y:Z})}return s},ot=h.memo((function(t){var e=t.data,n=t.zIndex,r=t.onNodeHover,a=s.useRef(null),i=s.useRef(null);s.useEffect((function(){var t=a.current;if(t){var n=t.getContext("2d");if(n){switch(n.clearRect(0,0,t.width,t.height),e.type){case"rectangle":n.fillStyle="transparent",n.strokeStyle="#333333",n.lineWidth=2,n.fillRect(0,0,e.width,e.height),n.strokeRect(Z,Z,e.width-2*Z,e.height-2*Z);break;case"diamond":n.fillStyle="transparent",n.strokeStyle="#333333",n.lineWidth=2,n.beginPath(),n.moveTo(e.width/2,0),n.lineTo(e.width,e.height/2),n.lineTo(e.width/2,e.height),n.lineTo(0,e.height/2),n.closePath(),n.fill(),n.stroke();break;case"circle":n.fillStyle="transparent",n.strokeStyle="#333333",n.lineWidth=2,r=n,o=e.width,s=e.height,i=e.height/2,r.beginPath(),r.moveTo(i,0),r.lineTo(o-i,0),r.arcTo(o,0,o,i,i),r.lineTo(o,s-i),r.arcTo(o,s,o-i,s,i),r.lineTo(i,s),r.arcTo(0,s,0,s-i,i),r.lineTo(0,i),r.arcTo(0,0,i,0,i),r.closePath(),r.stroke()}var r,o,s,i;e.text&&(n.fillStyle="#333",n.font="12px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(e.text,e.width/2,e.height/2))}}}),[e]);return o.jsx("div",{ref:i,id:e.id,className:Q,style:{zIndex:n,left:e.x,top:e.y,width:e.width,height:e.height},onMouseDown:function(){},onMouseEnter:function(){r(e)},onMouseLeave:function(){r({})},children:o.jsx("canvas",{ref:a,width:e.width,height:e.height,className:V})})})),at="_flowEdge_1bhv1_1",st="_canvas-box_1bhv1_4",it=function(t){switch(t.sourceHandle){case"topLeft":return{x:t.x,y:t.y};case"top":return{x:t.x+t.width/2,y:t.y};case"topRight":return{x:t.x+t.width,y:t.y};case"right":return{x:t.x+t.width,y:t.y+t.height/2};case"bottomRight":return{x:t.x+t.width,y:t.y+t.height};case"bottom":return{x:t.x+t.width/2,y:t.y+t.height};case"bottomLeft":return{x:t.x,y:t.y+t.height};case"left":return{x:t.x,y:t.y+t.height/2};default:return{x:0,y:0}}},ht=function(t,e){if(!(e.length<2)){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.strokeStyle="#2c3e50",t.lineWidth=2,t.stroke(),function(t,e,n){var r=Math.atan2(n.y-e.y,n.x-e.x);t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(n.x-15*Math.cos(r-Math.PI/6),n.y-15*Math.sin(r-Math.PI/6)),t.moveTo(n.x,n.y),t.lineTo(n.x-15*Math.cos(r+Math.PI/6),n.y-15*Math.sin(r+Math.PI/6)),t.strokeStyle="#2c3e50",t.lineWidth=2,t.stroke()}(t,e[e.length-2],e[e.length-1])}},ut=h.memo((function(t){var e=t.data,n=t.zIndex,r=t.isDrawing,a=t.isNodeChangeForDraw,h=t.onSetDrawEdgeId,u=t.onEdgeMouseUp,c=s.useRef(null),l=s.useRef(null),x=s.useMemo((function(){return it(e)}),[e]),y=x.x,p=x.y,d=i(s.useState({x:y,y:p}),2),f=d[0],b=d[1],_=s.useRef({x:y,y:p}),m=i(s.useState({x:Z,y:Z}),2),v=m[0],g=m[1],M=s.useCallback((function(t,n,r){var o={top:tt,right:et,bottom:rt,left:nt};return o[n]&&o[n]({moveData:t,setCanvasSize:g,setPositionTL:b,positionTL:r,data:e})}),[e,g,b]),w=s.useCallback((function(t){requestAnimationFrame((function(){if(!r)return document.removeEventListener("mousemove",w),void document.removeEventListener("mouseup",j);var n=l.current;if(n){var o=n.getContext("2d");if(o){var s=a?e.clientX:t.clientX,i=a?e.clientY:t.clientY,h=a?{x:y,y:p}:_.current,u=s-e.boxLeft-y,c=i-e.boxTop-p,x=M({x:u,y:c},e.sourceHandle,h);requestAnimationFrame((function(){ht(o,x)}))}}}))}),[y,p,e,a,r]),j=s.useCallback((function(t){h(""),_.current.x=f.x,_.current.y=f.y,a||u(t.clientX,t.clientY,e)}),[h,u,e,a,f]);return s.useEffect((function(){if(e.id)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",j),function(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",j)}}),[e,r]),o.jsx("div",{ref:c,className:at,style:{zIndex:n,left:f.x,top:f.y,width:v.x,height:v.y},children:o.jsx("canvas",{ref:l,className:st,width:v.x,height:v.y,style:{width:v.x,height:v.y}})})})),ct="_sidebar_1nyhu_1",lt="_nodeList_1nyhu_12",xt="_nodeType_1nyhu_17",yt=[{type:"rectangle",label:"流程"},{type:"diamond",label:"判定"},{type:"circle",label:"开始/结束"}],pt=h.memo((function(t){var e=t.onDragStart;return o.jsxs("div",{className:ct,children:[o.jsx("h3",{children:"节点类型"}),o.jsx("div",{className:lt,children:yt.map((function(t){return o.jsx("div",{className:xt,draggable:!0,onDragStart:function(n){return e(n,{type:"nodeType",nodeType:t.type})},children:t.label},t.type)}))})]})})),dt="_box-hover-control_1e459_1",ft="_node-control-point_1e459_4",bt="_top_1e459_29",_t="_right_1e459_34",mt="_bottom_1e459_39",vt="_left_1e459_44",gt=h.memo((function(t){var e=t.isMove,n=t.data,r=t.zIndex,a=t.onClickEdgePoint,i=t.onNodeHover,h=t.onNodeClick,u=t.onSetMoveNode,c=t.onNodeMouseMove,l=s.useCallback((function(t,e){e.stopPropagation(),a(n,t)}),[a,n]),x=s.useRef({x:0,y:0}),y=s.useRef(!1),p=s.useCallback((function(t){x.current.x=t.clientX-n.x,x.current.y=t.clientY-n.y,y.current=!0,u(n)}),[u,n]),d=s.useCallback((function(t){requestAnimationFrame((function(){if(!e||!y.current)return document.removeEventListener("mousemove",d),void document.removeEventListener("mouseup",b);h("");var r=t.clientX-x.current.x,o=t.clientY-x.current.y;c(r,o,n.id)}))}),[c,n.id,e,h]),f=s.useCallback((function(){x.current.x=0,x.current.y=0,y.current=!1,u({})}),[u]),b=s.useCallback((function(){f(),h(n.id)}),[f,n.id,h]);return s.useEffect((function(){if(n.id)return document.addEventListener("mousemove",d),document.addEventListener("mouseup",b),function(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",b)}}),[n.id,e]),o.jsx(o.Fragment,{children:o.jsxs("div",{style:{zIndex:r+1,left:n.x+Z,top:n.y+Z,width:n.width-2*Z,height:n.height-2*Z},onMouseDown:p,onMouseEnter:function(){i(n)},onMouseLeave:function(){f(),i({})},className:dt,children:[o.jsx("div",{className:q(ft,bt),onMouseDown:function(t){return l("top",t)}}),o.jsx("div",{className:q(ft,_t),onMouseDown:function(t){return l("right",t)}}),o.jsx("div",{className:q(ft,mt),onMouseDown:function(t){return l("bottom",t)}}),o.jsx("div",{className:q(ft,vt),onMouseDown:function(t){return l("left",t)}})]})})})),Mt="_box-click-control_822kj_1",wt="_node-control-point_822kj_4",jt="_rect_822kj_14",kt="_ew_822kj_17",Et="_ns_822kj_20",Nt="_nesw_822kj_23",St="_nwse_822kj_26",Tt="_top_822kj_29",Lt="_right_822kj_34",Ct="_bottom_822kj_39",Pt="_left_822kj_44",Ot="_top-left_822kj_49",Dt="_top-right_822kj_53",zt="_bottom-left_822kj_57",Rt="_bottom-right_822kj_61",It=h.memo((function(t){var e=t.isResize,n=t.data,r=t.zIndex,i=t.onNodeHover,h=t.onSetResizeNode,u=t.onNodeMouseResize,c=s.useRef({x:0,y:0}),l=s.useRef(!1),x=s.useRef({x:0,y:0,width:0,height:0,type:""}),y=s.useCallback((function(t,e){e.stopPropagation();var r=a(a({},n),{},{sourceHandle:t,x:n.x+Z,y:n.y+Z,width:n.width-2*Z,height:n.height-2*Z}),o=it(r),s=o.x,i=o.y;l.current=!0,c.current.x=e.clientX-n.x,c.current.y=e.clientY-n.y,x.current.x=n.boxLeft+s,x.current.y=n.boxTop+i,x.current.width=n.width,x.current.height=n.height,x.current.type=t,h(n)}),[n,h]),p=s.useCallback((function(t){requestAnimationFrame((function(){if(!e||!l.current)return document.removeEventListener("mousemove",p),void document.removeEventListener("mouseup",d);var r=0,o=0,a=t.clientX-c.current.x,s=t.clientY-c.current.y,i=t.clientX-x.current.x,h=t.clientY-x.current.y,y=[];"left"===x.current.type&&(r=x.current.width-i,y.push("width","x")),"topLeft"===x.current.type&&(r=x.current.width-i,o=x.current.height-h,y.push("width","height","x","y")),"top"===x.current.type&&(o=x.current.height-h,y.push("height","y")),"topRight"===x.current.type&&(r=x.current.width+i,o=x.current.height-h,y.push("width","height","y")),"right"===x.current.type&&(r=x.current.width+i,y.push("width")),"bottomRight"===x.current.type&&(r=x.current.width+i,o=x.current.height+h,y.push("width","height")),"bottom"===x.current.type&&(o=x.current.height+h,y.push("height")),"bottomLeft"===x.current.type&&(r=x.current.width-i,o=x.current.height+h,y.push("width","height","x")),u({width:r,height:o,id:n.id,x:a,y:s,changeType:y})}))}),[u,n.id,e]),d=s.useCallback((function(){l.current=!1,c.current.x=0,c.current.y=0,x.current.x=0,x.current.y=0,x.current.width=0,x.current.height=0,x.current.type="",h({})}),[h]);return s.useEffect((function(){if(n.id)return document.addEventListener("mousemove",p),document.addEventListener("mouseup",d),function(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",d)}}),[n.id,e]),o.jsx(o.Fragment,{children:o.jsxs("div",{style:{zIndex:r+1,left:n.x+Z,top:n.y+Z,width:n.width-2*Z,height:n.height-2*Z},onMouseEnter:function(){i(n)},onMouseLeave:function(){i({})},className:Mt,children:[o.jsx("div",{className:q(wt,jt,Ot,St),onMouseDown:function(t){return y("topLeft",t)}}),o.jsx("div",{className:q(wt,jt,Tt,Et),onMouseDown:function(t){return y("top",t)}}),o.jsx("div",{className:q(wt,jt,Dt,Nt),onMouseDown:function(t){return y("topRight",t)}}),o.jsx("div",{className:q(wt,jt,Lt,kt),onMouseDown:function(t){return y("right",t)}}),o.jsx("div",{className:q(wt,jt,Rt,St),onMouseDown:function(t){return y("bottomRight",t)}}),o.jsx("div",{className:q(wt,jt,Ct,Et),onMouseDown:function(t){return y("bottom",t)}}),o.jsx("div",{className:q(wt,jt,zt,Nt),onMouseDown:function(t){return y("bottomLeft",t)}}),o.jsx("div",{className:q(wt,jt,Pt,kt),onMouseDown:function(t){return y("left",t)}})]})})})),Ft=h.memo((function(){var t=i(G([]),2),e=t[0],n=t[1],r=i(s.useState(null),2),a=r[0],h=r[1],u=i(s.useState({}),2),c=u[0],l=u[1],x=i(s.useState({}),2),y=x[0],p=x[1],d=s.useRef(null),f=i(s.useState(""),2),b=f[0],_=f[1],m=i(s.useState({}),2),v=m[0],g=m[1],M=s.useCallback((function(t,e){t.dataTransfer.setData("application/json",JSON.stringify(e)),t.dataTransfer.effectAllowed="move"}),[]),w=s.useCallback((function(t){t.preventDefault(),t.dataTransfer.dropEffect="move"}),[]),j=s.useCallback((function(t){var e;t.preventDefault();var r=t.dataTransfer.getData("application/json");if(r){var o=JSON.parse(r),a=null===(e=d.current)||void 0===e?void 0:e.getBoundingClientRect();if(a&&"nodeType"===o.type){var s=t.clientX-a.left,i=t.clientY-a.top,h={id:"node-".concat(Date.now()),type:o.nodeType||"rectangle",strikeType:"node",x:s,y:i,boxLeft:a.left,boxTop:a.top,width:140,height:92};n((function(t){t.push(h)}))}}}),[n]),k=s.useCallback((function(t,e){var r="edge-".concat(Date.now()),o={id:r,strikeType:"edge",source:t.id,sourceHandle:e,boxLeft:t.boxLeft,boxTop:t.boxTop,x:t.x+Z,y:t.y+Z,width:t.width-2*Z,height:t.height-2*Z};_(r),n((function(t){t.push(o)}))}),[_,n]),E=s.useCallback((function(t,e,r){n((function(n){var o=n.find((function(t){return t.id===r.id}));o&&(o.clientX=t,o.clientY=e);var a=n.find((function(t){return t.id===r.source}));Array.isArray(a.points)||(a.points=[]);var s=a.points.find((function(t){return t.type===r.sourceHandle}));s?(s.x=t,s.y=e):a.points.push({type:r.sourceHandle,id:r.id,x:t,y:e})}))}),[n]),N=s.useCallback((function(t,e,r){n((function(n){var o=n.find((function(t){return t.id===r}));(o&&(o.x=t,o.y=e),Array.isArray(o.points))&&o.points.map((function(t){return t.id})).forEach((function(r){var o=n.find((function(t){return t.id===r}));o.x=t+Z,o.y=e+Z}))}))}),[n]),S=s.useCallback((function(t){var e=t.width,r=t.height,o=t.x,a=t.y,s=t.id,i=t.changeType;n((function(t){var n=t.find((function(t){return t.id===s}));(n&&(i.includes("width")&&(n.width=e),i.includes("height")&&(n.height=r),i.includes("x")&&(n.x=o),i.includes("y")&&(n.y=a)),Array.isArray(n.points))&&n.points.map((function(t){return t.id})).forEach((function(n){var s=t.find((function(t){return t.id===n}));i.includes("width")&&(s.width=e-2*Z),i.includes("height")&&(s.height=r-2*Z),i.includes("x")&&(s.x=o+Z),i.includes("y")&&(s.y=a+Z)}))}))}),[n]),T=s.useCallback((function(t){var e=t.target;e.className.includes("nodeCanvas")||e.className.includes("node-control-point")||e.className.includes("box-hover-control")||e.className.includes("box-click-control")||h("")}),[h]),L=s.useCallback((function(t){var n=e.find((function(e){return e.id===t}));return n.source===y.id||n.source===v.id}),[y,v,e]);return o.jsxs("div",{className:$,children:[o.jsx(pt,{onDragStart:M}),o.jsxs("div",{ref:d,className:J,onClick:T,onDragOver:w,onDrop:j,children:[e.map((function(t,e){return"node"===t.strikeType?o.jsx(ot,{zIndex:e+1,data:t,onNodeHover:l},t.id):o.jsx(ut,{isDrawing:b===t.id||L(t.id),isNodeChangeForDraw:L(t.id),onSetDrawEdgeId:_,onEdgeMouseUp:E,data:t,zIndex:e+1},t.id)})),c.id&&o.jsx(gt,{isMove:y.id===c.id,data:e.find((function(t){return t.id===c.id})),zIndex:e.length+1,onClickEdgePoint:k,onNodeHover:l,onNodeClick:h,onNodeMouseMove:N,onSetMoveNode:p}),a&&o.jsx(It,{isResize:v.id===a,data:e.find((function(t){return t.id===a})),zIndex:e.length+1,onNodeHover:l,onSetResizeNode:g,onNodeMouseResize:S})]})]})}));t("D",(function(){return o.jsx(o.Fragment,{children:o.jsx(Ft,{})})}))}}}))}();
