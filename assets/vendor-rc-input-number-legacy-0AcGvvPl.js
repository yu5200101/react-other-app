System.register(["./vendor-@babel-legacy-DqmqKj3h.js","./vendor-@rc-component-legacy-trfl0X7C.js","./vendor-classnames-legacy-FF-SgJeE.js","./vendor-rc-input-legacy-D-BCx328.js","./vendor-react-legacy-Cc0hGaC1.js","./vendor-rc-util-legacy-ydZTfFiK.js"],(function(e,n){"use strict";var r,t,a,u,o,c,s,i,l,f,d,p,v,m,g,b,N,y,E,h,w;return{setters:[function(e){r=e._,t=e.e,a=e.c,u=e.d,o=e.a},function(e){c=e.n,s=e.t,i=e.g,l=e.c,f=e.v,d=e.d},function(e){p=e.c},function(e){v=e.B,m=e.t},function(e){g=e.r},function(e){b=e.w,N=e.B,y=e.Q,E=e.R,h=e.S,w=e.p}],execute:function(){function n(e){var n=e.prefixCls,a=e.upNode,u=e.downNode,o=e.upDisabled,c=e.downDisabled,s=e.onStep,i=g.useRef(),l=g.useRef([]),f=g.useRef();f.current=s;var d=function(){clearTimeout(i.current)},v=function(e,n){e.preventDefault(),d(),f.current(n),i.current=setTimeout((function e(){f.current(n),i.current=setTimeout(e,200)}),600)};if(g.useEffect((function(){return function(){d(),l.current.forEach((function(e){return N.cancel(e)}))}}),[]),y())return null;var m="".concat(n,"-handler"),b=p(m,"".concat(m,"-up"),r({},"".concat(m,"-up-disabled"),o)),E=p(m,"".concat(m,"-down"),r({},"".concat(m,"-down-disabled"),c)),h=function(){return l.current.push(N(d))},w={unselectable:"on",role:"button",onMouseUp:h,onMouseLeave:h};return g.createElement("div",{className:"".concat(m,"-wrap")},g.createElement("span",t({},w,{onMouseDown:function(e){v(e,!0)},"aria-label":"Increase Value","aria-disabled":o,className:b}),a||g.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),g.createElement("span",t({},w,{onMouseDown:function(e){v(e,!1)},"aria-label":"Decrease Value","aria-disabled":c,className:E}),u||g.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}function x(e){var n="number"==typeof e?c(e):s(e).fullStr;return n.includes(".")?s(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var S=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],R=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],C=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},I=function(e){var n=i(e);return n.isInvalidate()?null:n},D=g.forwardRef((function(e,s){var v=e.prefixCls,m=e.className,y=e.style,E=e.min,R=e.max,D=e.step,M=void 0===D?1:D,B=e.defaultValue,T=e.value,O=e.disabled,A=e.readOnly,j=e.upHandler,k=e.downHandler,q=e.keyboard,U=e.changeOnWheel,W=void 0!==U&&U,H=e.controls,V=void 0===H||H;e.classNames;var K=e.stringMode,L=e.parser,P=e.formatter,F=e.precision,Q=e.decimalSeparator,$=e.onChange,Y=e.onInput,_=e.onPressEnter,z=e.onStep,G=e.changeOnBlur,J=void 0===G||G,X=e.domRef,Z=a(e,S),ee="".concat(v,"-input"),ne=g.useRef(null),re=g.useState(!1),te=u(re,2),ae=te[0],ue=te[1],oe=g.useRef(!1),ce=g.useRef(!1),se=g.useRef(!1),ie=g.useState((function(){return i(null!=T?T:B)})),le=u(ie,2),fe=le[0],de=le[1],pe=g.useCallback((function(e,n){if(!n)return F>=0?F:Math.max(l(e),l(M))}),[F,M]),ve=g.useCallback((function(e){var n=String(e);if(L)return L(n);var r=n;return Q&&(r=r.replace(Q,".")),r.replace(/[^\w.-]+/g,"")}),[L,Q]),me=g.useRef(""),ge=g.useCallback((function(e,n){if(P)return P(e,{userTyping:n,input:String(me.current)});var r="number"==typeof e?c(e):e;if(!n){var t=pe(r,n);f(r)&&(Q||t>=0)&&(r=d(r,Q||".",t))}return r}),[P,pe,Q]),be=g.useState((function(){var e=null!=B?B:T;return fe.isInvalidate()&&["string","number"].includes(o(e))?Number.isNaN(e)?"":e:ge(fe.toString(),!1)})),Ne=u(be,2),ye=Ne[0],Ee=Ne[1];function he(e,n){Ee(ge(e.isInvalidate()?e.toString(!1):e.toString(!n),n))}me.current=ye;var we,xe,Se,Re,Ce,Ie=g.useMemo((function(){return I(R)}),[R,F]),De=g.useMemo((function(){return I(E)}),[E,F]),Me=g.useMemo((function(){return!(!Ie||!fe||fe.isInvalidate())&&Ie.lessEquals(fe)}),[Ie,fe]),Be=g.useMemo((function(){return!(!De||!fe||fe.isInvalidate())&&fe.lessEquals(De)}),[De,fe]),Te=(we=ne.current,xe=ae,Se=g.useRef(null),[function(){try{var e=we.selectionStart,n=we.selectionEnd,r=we.value,t=r.substring(0,e),a=r.substring(n);Se.current={start:e,end:n,value:r,beforeTxt:t,afterTxt:a}}catch(u){}},function(){if(we&&Se.current&&xe)try{var e=we.value,n=Se.current,r=n.beforeTxt,t=n.afterTxt,a=n.start,u=e.length;if(e.startsWith(r))u=r.length;else if(e.endsWith(t))u=e.length-Se.current.afterTxt.length;else{var o=r[a-1],c=e.indexOf(o,a-1);-1!==c&&(u=c+1)}we.setSelectionRange(u,u)}catch(s){b(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(s.message))}}]),Oe=u(Te,2),Ae=Oe[0],je=Oe[1],ke=function(e){return Ie&&!e.lessEquals(Ie)?Ie:De&&!De.lessEquals(e)?De:null},qe=function(e){return!ke(e)},Ue=function(e,n){var r,t=e,a=qe(t)||t.isEmpty();if(t.isEmpty()||n||(t=ke(t)||t,a=!0),!A&&!O&&a){var u=t.toString(),o=pe(u,n);return o>=0&&(t=i(d(u,".",o)),qe(t)||(t=i(d(u,".",o,!0)))),t.equals(fe)||(r=t,void 0===T&&de(r),null==$||$(t.isEmpty()?null:C(K,t)),void 0===T&&he(t,n)),t}return fe},We=(Re=g.useRef(0),Ce=function(){N.cancel(Re.current)},g.useEffect((function(){return Ce}),[]),function(e){Ce(),Re.current=N((function(){e()}))}),He=function e(n){if(Ae(),me.current=n,Ee(n),!ce.current){var r=ve(n),t=i(r);t.isNaN()||Ue(t,!0)}null==Y||Y(n),We((function(){var r=n;L||(r=n.replace(/ã€‚/g,".")),r!==n&&e(r)}))},Ve=function(e){var n;if(!(e&&Me||!e&&Be)){oe.current=!1;var r=i(se.current?x(M):M);e||(r=r.negate());var t=(fe||i(0)).add(r.toString()),a=Ue(t,!1);null==z||z(C(K,a),{offset:se.current?x(M):M,type:e?"up":"down"}),null===(n=ne.current)||void 0===n||n.focus()}},Ke=function(e){var n,r=i(ve(ye));n=r.isNaN()?Ue(fe,e):Ue(r,e),void 0!==T?he(fe,!1):n.isNaN()||he(n,!1)};return g.useEffect((function(){if(W&&ae){var e=function(e){Ve(e.deltaY<0),e.preventDefault()},n=ne.current;if(n)return n.addEventListener("wheel",e,{passive:!1}),function(){return n.removeEventListener("wheel",e)}}})),h((function(){fe.isInvalidate()||he(fe,!1)}),[F,P]),h((function(){var e=i(T);de(e);var n=i(ve(ye));e.equals(n)&&oe.current&&!P||he(e,oe.current)}),[T]),h((function(){P&&je()}),[ye]),g.createElement("div",{ref:X,className:p(v,m,r(r(r(r(r({},"".concat(v,"-focused"),ae),"".concat(v,"-disabled"),O),"".concat(v,"-readonly"),A),"".concat(v,"-not-a-number"),fe.isNaN()),"".concat(v,"-out-of-range"),!fe.isInvalidate()&&!qe(fe))),style:y,onFocus:function(){ue(!0)},onBlur:function(){J&&Ke(!1),ue(!1),oe.current=!1},onKeyDown:function(e){var n=e.key,r=e.shiftKey;oe.current=!0,se.current=r,"Enter"===n&&(ce.current||(oe.current=!1),Ke(!1),null==_||_(e)),!1!==q&&!ce.current&&["Up","ArrowUp","Down","ArrowDown"].includes(n)&&(Ve("Up"===n||"ArrowUp"===n),e.preventDefault())},onKeyUp:function(){oe.current=!1,se.current=!1},onCompositionStart:function(){ce.current=!0},onCompositionEnd:function(){ce.current=!1,He(ne.current.value)},onBeforeInput:function(){oe.current=!0}},V&&g.createElement(n,{prefixCls:v,upNode:j,downNode:k,upDisabled:Me,downDisabled:Be,onStep:Ve}),g.createElement("div",{className:"".concat(ee,"-wrap")},g.createElement("input",t({autoComplete:"off",role:"spinbutton","aria-valuemin":E,"aria-valuemax":R,"aria-valuenow":fe.isInvalidate()?null:fe.toString(),step:M},Z,{ref:w(ne,s),className:ee,value:ye,onChange:function(e){He(e.target.value)},disabled:O,readOnly:A}))))}));e("I",g.forwardRef((function(e,n){var r=e.disabled,u=e.style,o=e.prefixCls,c=void 0===o?"rc-input-number":o,s=e.value,i=e.prefix,l=e.suffix,f=e.addonBefore,d=e.addonAfter,p=e.className,b=e.classNames,N=a(e,R),y=g.useRef(null),h=g.useRef(null),w=g.useRef(null),x=function(e){w.current&&m(w.current,e)};return g.useImperativeHandle(n,(function(){return E(w.current,{focus:x,nativeElement:y.current.nativeElement||h.current})})),g.createElement(v,{className:p,triggerFocus:x,prefixCls:c,value:s,disabled:r,style:u,prefix:i,suffix:l,addonAfter:d,addonBefore:f,classNames:b,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:y},g.createElement(D,t({prefixCls:c,disabled:r,ref:w,domRef:h,className:null==b?void 0:b.input},N)))})))}}}));
