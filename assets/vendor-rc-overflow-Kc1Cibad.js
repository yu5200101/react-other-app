import{c as e,e as n,b as r,d as t}from"./vendor-@babel-IoAzJ7sT.js";import{r as i,R as a}from"./vendor-react-BVfqOVDk.js";import{c as o}from"./vendor-classnames-C6ZHPJN9.js";import{R as s}from"./vendor-rc-resize-observer-CNB7JSb9.js";import{B as l,k as u,d as c}from"./vendor-rc-util-C7GvDjgY.js";import{r as m}from"./vendor-react-dom-DqUgb2va.js";var d=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],f=void 0;function v(t,a){var l=t.prefixCls,u=t.invalidate,c=t.item,m=t.renderItem,v=t.responsive,p=t.responsiveDisabled,y=t.registerSize,h=t.itemKey,b=t.className,E=t.style,g=t.children,N=t.display,R=t.order,C=t.component,x=void 0===C?"div":C,I=e(t,d),w=v&&!N;function S(e){y(h,e)}i.useEffect((function(){return function(){S(null)}}),[]);var M,k=m&&c!==f?m(c,{index:R}):g;u||(M={opacity:w?0:1,height:w?0:f,overflowY:w?"hidden":f,order:v?R:f,pointerEvents:w?"none":f,position:w?"absolute":f});var z={};w&&(z["aria-hidden"]=!0);var j=i.createElement(x,n({className:o(!u&&l,b),style:r(r({},M),E)},z,I,{ref:a}),k);return v&&(j=i.createElement(s,{onResize:function(e){S(e.offsetWidth)},disabled:p},j)),j}var p=i.forwardRef(v);function y(){var e=i.useRef(null);return function(n){e.current||(e.current=[],function(e){if("undefined"==typeof MessageChannel)l(e);else{var n=new MessageChannel;n.port1.onmessage=function(){return e()},n.port2.postMessage(void 0)}}((function(){m.unstable_batchedUpdates((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(n)}}function h(e,n){var r=i.useState(n),a=t(r,2),o=a[0],s=a[1];return[o,u((function(n){e((function(){s(n)}))}))]}p.displayName="Item";var b=a.createContext(null),E=["component"],g=["className"],N=["className"],R=function(r,t){var a=i.useContext(b);if(!a){var s=r.component,l=void 0===s?"div":s,u=e(r,E);return i.createElement(l,n({},u,{ref:t}))}var c=a.className,m=e(a,g),d=r.className,f=e(r,N);return i.createElement(b.Provider,{value:null},i.createElement(p,n({ref:t,className:o(c,d)},m,f)))},C=i.forwardRef(R);C.displayName="RawItem";var x=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],I="responsive",w="invalidate";function S(e){return"+ ".concat(e.length," ...")}function M(a,l){var u=a.prefixCls,m=void 0===u?"rc-overflow":u,d=a.data,f=void 0===d?[]:d,v=a.renderItem,E=a.renderRawItem,g=a.itemKey,N=a.itemWidth,R=void 0===N?10:N,C=a.ssr,M=a.style,k=a.className,z=a.maxCount,j=a.renderRest,A=a.renderRawRest,K=a.suffix,_=a.component,D=void 0===_?"div":_,P=a.itemComponent,V=a.onVisibleChange,W=e(a,x),F="full"===C,T=y(),G=h(T,null),O=t(G,2),X=O[0],B=O[1],L=X||0,U=h(T,new Map),Y=t(U,2),q=Y[0],H=Y[1],J=h(T,0),Q=t(J,2),Z=Q[0],$=Q[1],ee=h(T,0),ne=t(ee,2),re=ne[0],te=ne[1],ie=h(T,0),ae=t(ie,2),oe=ae[0],se=ae[1],le=i.useState(null),ue=t(le,2),ce=ue[0],me=ue[1],de=i.useState(null),fe=t(de,2),ve=fe[0],pe=fe[1],ye=i.useMemo((function(){return null===ve&&F?Number.MAX_SAFE_INTEGER:ve||0}),[ve,X]),he=i.useState(!1),be=t(he,2),Ee=be[0],ge=be[1],Ne="".concat(m,"-item"),Re=Math.max(Z,re),Ce=z===I,xe=f.length&&Ce,Ie=z===w,we=xe||"number"==typeof z&&f.length>z,Se=i.useMemo((function(){var e=f;return xe?e=null===X&&F?f:f.slice(0,Math.min(f.length,L/R)):"number"==typeof z&&(e=f.slice(0,z)),e}),[f,R,X,z,xe]),Me=i.useMemo((function(){return xe?f.slice(ye+1):f.slice(Se.length)}),[f,Se,xe,ye]),ke=i.useCallback((function(e,n){var r;return"function"==typeof g?g(e):null!==(r=g&&(null==e?void 0:e[g]))&&void 0!==r?r:n}),[g]),ze=i.useCallback(v||function(e){return e},[v]);function je(e,n,r){(ve!==e||void 0!==n&&n!==ce)&&(pe(e),r||(ge(e<f.length-1),null==V||V(e)),void 0!==n&&me(n))}function Ae(e,n){H((function(r){var t=new Map(r);return null===n?t.delete(e):t.set(e,n),t}))}function Ke(e){return q.get(ke(Se[e],e))}c((function(){if(L&&"number"==typeof Re&&Se){var e=oe,n=Se.length,r=n-1;if(!n)return void je(0,null);for(var t=0;t<n;t+=1){var i=Ke(t);if(F&&(i=i||0),void 0===i){je(t-1,void 0,!0);break}if(e+=i,0===r&&e<=L||t===r-1&&e+Ke(r)<=L){je(r,null);break}if(e+Re>L){je(t-1,e-i-oe+re);break}}K&&Ke(0)+oe>L&&me(null)}}),[L,q,re,oe,ke,Se]);var _e=Ee&&!!Me.length,De={};null!==ce&&xe&&(De={position:"absolute",left:ce,top:0});var Pe={prefixCls:Ne,responsive:xe,component:P,invalidate:Ie},Ve=E?function(e,n){var t=ke(e,n);return i.createElement(b.Provider,{key:t,value:r(r({},Pe),{},{order:n,item:e,itemKey:t,registerSize:Ae,display:n<=ye})},E(e,n))}:function(e,r){var t=ke(e,r);return i.createElement(p,n({},Pe,{order:r,key:t,item:e,renderItem:ze,itemKey:t,registerSize:Ae,display:r<=ye}))},We={order:_e?ye:Number.MAX_SAFE_INTEGER,className:"".concat(Ne,"-rest"),registerSize:function(e,n){te(n),$(re)},display:_e},Fe=j||S,Te=A?i.createElement(b.Provider,{value:r(r({},Pe),We)},A(Me)):i.createElement(p,n({},Pe,We),"function"==typeof Fe?Fe(Me):Fe),Ge=i.createElement(D,n({className:o(!Ie&&m,k),style:M,ref:l},W),Se.map(Ve),we?Te:null,K&&i.createElement(p,n({},Pe,{responsive:Ce,responsiveDisabled:!xe,order:ye,className:"".concat(Ne,"-suffix"),registerSize:function(e,n){se(n)},display:!0,style:De}),K));return Ce?i.createElement(s,{onResize:function(e,n){B(n.clientWidth)},disabled:!xe},Ge):Ge}var k=i.forwardRef(M);k.displayName="Overflow",k.Item=C,k.RESPONSIVE=I,k.INVALIDATE=w;export{k as F};
