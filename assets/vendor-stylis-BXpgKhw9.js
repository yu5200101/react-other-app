var e="comm",r="rule",n="decl",c=Math.abs,a=String.fromCharCode;function t(e){return e.trim()}function u(e,r,n){return e.replace(r,n)}function s(e,r,n){return e.indexOf(r,n)}function i(e,r){return 0|e.charCodeAt(r)}function f(e,r,n){return e.slice(r,n)}function o(e){return e.length}function l(e,r){return r.push(e),e}var h=1,b=1,k=0,d=0,p=0,v="";function g(e,r,n,c,a,t,u,s){return{value:e,root:r,parent:n,type:c,props:a,children:t,line:h,column:b,length:u,return:"",siblings:s}}function m(){return p=d<k?i(v,d++):0,b++,10===p&&(b=1,h++),p}function w(){return i(v,d)}function y(){return d}function C(e,r){return f(v,e,r)}function x(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j(e){return t(C(d-1,O(91===e?e+2:40===e?e+1:e)))}function A(e){for(;(p=w())&&p<33;)m();return x(e)>2||x(p)>3?"":" "}function M(e,r){for(;--r&&m()&&!(p<48||p>102||p>57&&p<65||p>70&&p<97););return C(e,y()+(r<6&&32==w()&&32==m()))}function O(e){for(;m();)switch(p){case e:return d;case 34:case 39:34!==e&&39!==e&&O(p);break;case 40:41===e&&O(e);break;case 92:m()}return d}function S(e,r){for(;m()&&e+p!==57&&(e+p!==84||47!==w()););return"/*"+C(r,d-1)+"*"+a(47===e?e:m())}function q(e){for(;!x(w());)m();return C(e,d)}function z(e){return function(e){return v="",e}(B("",null,null,null,[""],e=function(e){return h=b=1,k=o(v=e),d=0,[]}(e),0,[0],e))}function B(e,r,n,t,k,g,C,O,z){for(var G=0,H=0,I=C,J=0,K=0,L=0,N=1,P=1,Q=1,R=0,T="",U=k,V=g,W=t,X=T;P;)switch(L=R,R=m()){case 40:if(108!=L&&58==i(X,I-1)){-1!=s(X+=u(j(R),"&","&\f"),"&\f",c(G?O[G-1]:0))&&(Q=-1);break}case 34:case 39:case 91:X+=j(R);break;case 9:case 10:case 13:case 32:X+=A(L);break;case 92:X+=M(y()-1,7);continue;case 47:switch(w()){case 42:case 47:l(E(S(m(),y()),r,n,z),z),5!=x(L||1)&&5!=x(w()||1)||!o(X)||" "===f(X,-1,void 0)||(X+=" ");break;default:X+="/"}break;case 123*N:O[G++]=o(X)*Q;case 125*N:case 59:case 0:switch(R){case 0:case 125:P=0;case 59+H:-1==Q&&(X=u(X,/\f/g,"")),K>0&&(o(X)-I||0===N&&47===L)&&l(K>32?F(X+";",t,n,I-1,z):F(u(X," ","")+";",t,n,I-2,z),z);break;case 59:X+=";";default:if(l(W=D(X,r,n,G,H,k,O,T,U=[],V=[],I,g),g),123===R)if(0===H)B(X,r,W,W,U,g,I,O,V);else{switch(J){case 99:if(110===i(X,3))break;case 108:if(97===i(X,2))break;default:H=0;case 100:case 109:case 115:}H?B(e,W,W,t&&l(D(e,W,W,0,0,k,O,T,k,U=[],I,V),V),k,V,I,O,t?U:V):B(X,W,W,W,[""],V,0,O,V)}}G=H=K=0,N=Q=1,T=X="",I=C;break;case 58:I=1+o(X),K=L;default:if(N<1)if(123==R)--N;else if(125==R&&0==N++&&125==(p=d>0?i(v,--d):0,b--,10===p&&(b=1,h--),p))continue;switch(X+=a(R),R*N){case 38:Q=H>0?1:(X+="\f",-1);break;case 44:O[G++]=(o(X)-1)*Q,Q=1;break;case 64:45===w()&&(X+=j(m())),J=w(),H=I=o(T=X+=q(y())),R++;break;case 45:45===L&&2==o(X)&&(N=0)}}return g}function D(e,n,a,s,i,o,l,h,b,k,d,p){for(var v=i-1,m=0===i?o:[""],w=function(e){return e.length}(m),y=0,C=0,x=0;y<s;++y)for(var j=0,A=f(e,v+1,v=c(C=l[y])),M=e;j<w;++j)(M=t(C>0?m[j]+" "+A:u(A,/&\f/g,m[j])))&&(b[x++]=M);return g(e,n,a,0===i?r:h,b,k,d,p)}function E(r,n,c,t){return g(r,n,c,e,a(p),f(r,2,-2),0,t)}function F(e,r,c,a,t){return g(e,r,c,n,f(e,0,a),f(e,a+1,-1),a,t)}function G(e,r){for(var n="",c=0;c<e.length;c++)n+=r(e[c],c,e,r)||"";return n}function H(c,a,t,u){switch(c.type){case"@layer":if(c.children.length)break;case"@import":case"@namespace":case n:return c.return=c.return||c.value;case e:return"";case"@keyframes":return c.return=c.value+"{"+G(c.children,u)+"}";case r:if(!o(c.value=c.props.join(",")))return""}return o(t=G(c.children,u))?c.return=c.value+"{"+t+"}":""}export{H as a,z as c,G as s};
